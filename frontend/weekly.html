<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weekly Deep Dive | Fantasy Football Wrapped</title>
    <link rel="icon" type="image/png" href="static/favicon.png">
    <link rel="stylesheet" href="static/css/base.css">
    <link rel="stylesheet" href="static/css/weekly.css">
</head>
<body>
    <a class="back-to-dashboard" href="#" onclick="window.location.href='index.html' + (window.location.search || ''); return false;">&#8592; Dashboard</a>

    <!-- Team Selection Screen -->
    <div id="team-select-screen" class="team-select-screen" style="display: none;">
        <div class="team-select-box">
            <h1>Weekly Deep Dive</h1>
            <p class="team-select-subtitle">Select your team to get started</p>
            <div id="teamGrid" class="team-grid">
                <!-- Team cards injected here -->
            </div>
            <button id="teamSelectBtn" class="btn team-select-btn" disabled onclick="WeeklyController.confirmTeamSelection()">
                Continue
            </button>
        </div>
    </div>

    <!-- Loading Screen with skeleton -->
    <div id="loading" class="loading-screen loading-skeleton-mode">
        <div class="football-animation">
            <div class="football">üèà</div>
        </div>
        <p id="loadingTagline" class="loading-tagline">Crunching the numbers...</p>
        <div class="skeleton-preview">
            <div class="skeleton skeleton-nav"></div>
            <div class="skeleton skeleton-section"></div>
            <div class="skeleton-matchup-row">
                <div class="skeleton skeleton-team-col"></div>
                <div class="skeleton skeleton-team-col"></div>
            </div>
            <div class="skeleton skeleton-section-sm"></div>
        </div>
    </div>

    <div id="error-screen" class="error-screen" style="display: none;">
        <div class="error-content">
            <h2>Oops!</h2>
            <p id="error-message"></p>
            <button class="btn" onclick="window.location.href='/' + window.location.search">‚Üê Back to Dashboard</button>
        </div>
    </div>

    <main id="main-content" style="display: none;">
        <!-- Back to Dashboard -->
        <div style="padding: 12px 20px 0;">
            <a href="#" onclick="window.location.href='/' + window.location.search; return false;" style="color: rgba(255,255,255,0.6); text-decoration: none; font-size: 0.85rem;">‚Üê Back to Dashboard</a>
        </div>
        <!-- Season Record Tracker -->
        <div class="season-record-bar" id="seasonRecordBar" style="display: none;">
            <div class="record-tracker-inner">
                <span class="record-team-name" id="recordTeamName"></span>
                <span class="record-value" id="recordValue"></span>
                <span class="record-streak" id="recordStreak"></span>
            </div>
        </div>
        <!-- Week Navigation -->
        <nav class="week-nav">
            <div class="week-nav-inner" id="weekNavigation">
                <!-- Week buttons will be injected here -->
            </div>
        </nav>

        <!-- Content Container -->
        <div class="content-container">
            <!-- Section 1: NFL Weekly Summary -->
            <section class="section nfl-summary" id="nflSummary">
                <h2>Week <span id="nflWeekNumber"></span> in the NFL</h2>
                <div id="nflSummaryContent" class="summary-content">
                    <p class="loading-text">Loading...</p>
                </div>
            </section>

            <!-- Section 1B: Top Fantasy Scorers Ticker -->
            <section class="section top-scorers-ticker" id="topScorersTicker">
                <h2>Top Fantasy Scorers</h2>
                <div id="topScorersContent">
                    <p class="loading-text">Loading...</p>
                </div>
            </section>

            <!-- One Player Away Banner -->
            <div id="onePlayerAwayBanner" style="display: none;"></div>

            <!-- Section 2: Fantasy Matchup Detail -->
            <section class="section matchup-detail" id="matchupDetail">
                <div class="matchup-container">
                    <div class="team-column" id="myTeamColumn">
                        <!-- My team roster will be injected here -->
                    </div>
                    <div class="team-column" id="oppTeamColumn">
                        <!-- Opponent roster will be injected here -->
                    </div>
                </div>
            </section>

            <!-- Section 2B: Fantasy League Weekly Summary -->
            <section class="section fantasy-summary" id="fantasySummary">
                <h2>Week in the League</h2>
                <div id="fantasySummaryContent" class="summary-content">
                    <p class="loading-text">Loading...</p>
                </div>
            </section>

            <!-- Section 3: League Standings -->
            <section class="section standings" id="standings">
                <h2>League Standings</h2>
                <div class="standings-table" id="standingsTable">
                    <!-- Standings will be injected here -->
                </div>
            </section>

            <!-- Section 4: NFL Scores -->
            <section class="section nfl-scores" id="nflScores">
                <h2>NFL Scores</h2>
                <div id="nflScoresContent" class="scores-grid">
                    <p class="loading-text">Loading...</p>
                </div>
            </section>

            <!-- Section 5: All Fantasy Matchups -->
            <section class="section all-matchups" id="allMatchups">
                <h2>All Matchups This Week</h2>
                <div id="allMatchupsContent" class="matchups-list">
                    <!-- All matchups will be injected here -->
                </div>
            </section>
        </div>
    </main>

    <!-- Scripts -->
    <script src="static/js/config.js"></script>
    <script src="static/js/api.js"></script>
    <script src="static/js/dataCache.js"></script>
    <script src="static/js/utils.js"></script>
    <script src="static/js/weeklyController.js"></script>
    <script src="static/js/weeklyRenderer.js"></script>
    <script src="static/js/lineupEditor.js"></script>
</body>
</html>
